<!doctype html>

<!-- Special thanks to @thomasfuchs for building the timeline -->

<html>

<head>
  <meta charset="utf-8">
  <title>
    Philly Pope Map: Timeline
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <meta property="og:title" content="Philly Pope Map Timeline | Street Closures for the Papal Visit to Philadelphia" />
  <meta property="og:url" content="https://phillypopemap.com/timeline.html" />
  <meta property="og:site_name" content="Philly Pope Map: Timeline" />
  <meta property="og:image" content="https://phillypopemap.com/img/hotlink-ok/timeline.jpg" />
  <meta property="og:description" content="A timeline of street closures for the #PopeInPhilly visit, September 20-28, 2015 by @thomasfuchs & @laurenancona" />
  <meta name="twitter:card" content="photo" />
  <meta name="twitter:site" content="@laurenancona" />
  <meta name="twitter:creator" content="@laurenancona" />
  <link rel="image_src" href="https://phillypopemap.com/img/hotlink-ok/phillypopemap.jpg" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.deep_orange-light_blue.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="css/timeline.css">
  <script src="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.js"></script>
</head>
<body>
  <!-- LA Google Tag Manager, of course -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W6WFRN"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-W6WFRN');</script>
<!-- End Google Tag Manager -->
  <header>
    <div>
    <a href="/" target="_blank"><img src="img/popemapthumbnail.png"/><small><p class="header--small">Philly Pope Map</p></small>
      <h1>Timeline</h1></a>
      <a id="view-map"  href="/"> VIEW MAP</a>
   <div id="key">
     <span class="parking">Parking</span>
     <span class="driving">Driving</span>
     <span class="walking">Walking</span>
     <span class="transit">Transit</span>
  </div>
    </div>
  </header>
  <div id="timeline">
    <div id="timeline-header">
      <div>Sun Sep 20</div>
      <div>Mon Sep 21</div>
      <div>Tue Sep 22</div>
      <div>Wed Sep 23</div>
      <div>Thu Sep 24</div>
      <div>Fri Sep 25</div>
      <div class="main">Sat Sep 26</div>
      <div class="main">Sun Sep 27</div>
      <div>Mon Sep 28</div>
    </div>
    <div id="timeline-content"></div>
    <div style="clear:both;">
      <div id="contact">
<!--    <div><img src="img/codeforliberty.png"/></div>-->
    <p><small>Made with <img src="img/heart-12.png"/> in Philadelphia by <a  href="https://twitter.com/laurenancona" >Lauren Ancona</a> & <a href="https://twitter.com/thomasfuchs">Thomas Fuchs</a></small></p>
      </div>
      </div>
  </div>
  </div>
  
<script>
    (function () {
      var $tl = document.getElementById('timeline-content');

      function add(rowHTML) {
        var div = document.createElement('div');
        div.innerHTML = rowHTML;
        $tl.appendChild(div);
      }

      function positionForTimestamp(timestamp) {
        var width = document.getElementById('timeline').offsetWidth,
          left = +(new Date(2015, 8, 20)),
          right = +(new Date(2015, 8, 29)),
          pixelsPerMs = (right - left) / width;
        return (+timestamp - left) / pixelsPerMs;
      }

      function addBar(title, from, to, klass, link) {
        var pxFrom = positionForTimestamp(from),
          pxTo = positionForTimestamp(to),
          width = pxTo - pxFrom;
        add('<div class="bar ' + klass + '" style="' +
          'left:' + pxFrom + 'px;' +
          'width:' + width + 'px">' +
          '<a href="' + link + '">' + title +
          '</a>' + '</div>'
        );
      }
      function addLine(timestamp, klass) {
        var px = positionForTimestamp(timestamp),
          span = document.createElement('span');
        span.className = 'line ' + (klass || '');
        span.style.left = px + 'px';
        $tl.appendChild(span);
      }

      function render() {
        $tl.innerHTML = '';

        addLine(new Date(2015, 8, 20, 6), 'sub');
        addLine(new Date(2015, 8, 20, 12), 'sub');
        addLine(new Date(2015, 8, 20, 18), 'sub');

        addLine(new Date(2015, 8, 21));
        addLine(new Date(2015, 8, 21, 6), 'sub');
        addLine(new Date(2015, 8, 21, 12), 'sub');
        addLine(new Date(2015, 8, 21, 18), 'sub');

        addLine(new Date(2015, 8, 22));
        addLine(new Date(2015, 8, 22, 6), 'sub');
        addLine(new Date(2015, 8, 22, 12), 'sub');
        addLine(new Date(2015, 8, 22, 18), 'sub');

        addLine(new Date(2015, 8, 23));
        addLine(new Date(2015, 8, 23, 6), 'sub');
        addLine(new Date(2015, 8, 23, 12), 'sub');
        addLine(new Date(2015, 8, 23, 18), 'sub');

        addLine(new Date(2015, 8, 24));
        addLine(new Date(2015, 8, 24, 6), 'sub');
        addLine(new Date(2015, 8, 24, 12), 'sub');
        addLine(new Date(2015, 8, 24, 18), 'sub');

        addLine(new Date(2015, 8, 25));
        addLine(new Date(2015, 8, 25, 6), 'sub');
        addLine(new Date(2015, 8, 25, 12), 'sub');
        addLine(new Date(2015, 8, 25, 18), 'sub');

        addLine(new Date(2015, 8, 26));
        addLine(new Date(2015, 8, 26, 6), 'sub');
        addLine(new Date(2015, 8, 26, 12), 'sub');
        addLine(new Date(2015, 8, 26, 18), 'sub');

        addLine(new Date(2015, 8, 27));
        addLine(new Date(2015, 8, 27, 6), 'sub');
        addLine(new Date(2015, 8, 27, 12), 'sub');
        addLine(new Date(2015, 8, 27, 18), 'sub');

        addLine(new Date(2015, 8, 28));
        addLine(new Date(2015, 8, 28, 6), 'sub');
        addLine(new Date(2015, 8, 28, 12), 'sub');
        addLine(new Date(2015, 8, 28, 18), 'sub');

        // towing
        addBar('Towing enforcement (Parkway/Art Museum East to 12th St)',
          new Date(2015, 8, 20, 18, 0),
          new Date(2015, 8, 28, 18, 0),
          'parking',
          "/#15/39.9606/-75.1681"
        );
        addBar('Towing enforcement (North and South of Parkway)',
          new Date(2015, 8, 21, 21, 0),
          new Date(2015, 8, 28, 18, 0),
          'parking',
          "/#15/39.9607/-75.1700"
        );
        addBar('Towing enforcement (3rd St to 12th St)',
          new Date(2015, 8, 22, 18, 0),
          new Date(2015, 8, 28, 18, 0),
          'parking',
          "/#15/39.9514/-75.1470"
        );
        addBar('Towing enforcement (authorized vehicle routes)',
          new Date(2015, 8, 23, 21, 0),
          new Date(2015, 8, 28, 18, 0),
          'parking',
          "/#15/39.9548/-75.1595"
        );
        addBar('Parkway secure vehicle perimeter',
          new Date(2015, 8, 24, 20, 0),
          new Date(2015, 8, 28, 18, 0),
          'driving',
          "/#15/39.9591/-75.1655"
        );
        addBar('No driving allowed (authorized vehicle routes)',
          new Date(2015, 8, 25, 8, 0),
          new Date(2015, 8, 28, 18, 0),
          'driving',
          "/#15/39.9552/-75.1598"
        );
        addBar('Independence Mall secure vehicle perimeter',
          new Date(2015, 8, 25, 22, 0),
          new Date(2015, 8, 28, 18, 0),
          'driving',
          "/#16/39.9516/-75.1474"
        );

        addBar('Center City Traffic box',
          new Date(2015, 8, 25, 18, 0),
          new Date(2015, 8, 28, 18, 0),
          'driving',
          "/#14/39.9565/-75.1600"     
        );
        addBar('University City Traffic box',
          new Date(2015, 8, 25, 22, 0),
          new Date(2015, 8, 28, 18, 0),
          'driving',
          "/#15/39.9517/-75.1856"
        );

        // perimeters
        addBar('Parkway secure perimeter',
          new Date(2015, 8, 24, 20, 0),
          new Date(2015, 8, 28, 18, 0),
          'walking',
          "/#15/39.9581/-75.1652"
        );
        addBar('Independence Mall secure perimeter',
          new Date(2015, 8, 25, 22, 0),
          new Date(2015, 8, 27, 18, 0),
          'walking',
          "/#16/39.9511/-75.1469"
        );

        addBar('Taxis not allowed to move in/out Traffic Box',
          new Date(2015, 8, 26, 2, 0),
          new Date(2015, 8, 28, 3, 0),
          'transit',
          "/#14/39.9560/-75.1594"
        );
        addBar('Subway &amp; Bus Revised Service',
          new Date(2015, 8, 26, 5, 30),
          new Date(2015, 8, 28, 1, 0),
          'transit',
          "/#14/39.9561/-75.1593"
        );
      }

      window.addEventListener('resize', render);
      render();
    })();
  </script>

</body>

</html>